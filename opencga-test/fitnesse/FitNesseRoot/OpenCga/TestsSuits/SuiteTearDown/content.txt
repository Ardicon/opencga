!define TEST_SYSTEM {slim}

!3 Delete ACL for User (userA)
!|Table: Rest Fixture | $baseURL  |
| GET | /v1/studies/$study/acl/$userA/delete?sid=$sessionId |200|  Content-Type: application/json ||

!3 Login userA 
!|Table: Rest Fixture | $baseURL  |
| setBody | {"password" : "p@ssword"}|
| setHeader|Content-Type:application/json|
| POST | /v1/users/$userA/login |200|  Content-Type: application/json ||
|let|userASessionId|js|response.jsonbody.response[0].result[0].sessionId||

!3 Delete userA 
!|Table: Rest Fixture | $baseURL  |
| GET | /v1/users/$userA/delete?&sid=$userASessionId |200|  Content-Type: application/json |jsonbody.error === ''|

!3 Login userB 
!|Table: Rest Fixture | $baseURL  |
| setBody | {"password" : "p@ssword"}|
| setHeader|Content-Type:application/json|
| POST | /v1/users/$userB/login |200|  Content-Type: application/json ||
|let|userBSessionId|js|response.jsonbody.response[0].result[0].sessionId||

!3 Delete userB 
!|Table: Rest Fixture | $baseURL  |
| GET | /v1/users/$userB/delete?&sid=$userBSessionId |200|  Content-Type: application/json |jsonbody.error === ''|

#uncomment after delete is implemented
#!3 Delete User
#!|Table: Rest Fixture | http://bioinfoint.hpc.cam.ac.uk/opencga-1.0.0-final/webservices/rest/  |
#| GET | /v1/users/$user/delete?&sid=$sessionId |200|  Content-Type: application/json ||

